---
title: "Project Report"
author: "Caroline Andy, Vasili Fokaidis, Stella Li, Tessa Senders, Lily Wang"
date: "12/11/2020"
output: html_document
---

```{r message=FALSE, warning=FALSE}
library(tidyverse)
library(arsenal)
library(MASS)
library(patchwork)
```

## Abstract


## Introduction

Since 2014, the national rate of hate crimes has been steadily increasing in the United States [CITE]. In the days following the 2016 US Presidential election, an average of 90 hate crimes per day were reported to the Southern Poverty Law Center [CITE]. 

Existing research suggests that community-level demographic variables such as racial breakdown, population density, level of educational attainment, and economic considerations (median income, poverty level, job availability) may be significant predictors of regional and state-level rates of hate crimes. [CITE] A 2017 FivethirtyEight article titled, "Higher Rates Of Hate Crimes Are Tied To Income Inequality," used 2016 FBI and Southern Poverty Law Center data to assess the association between hate crime rate and select community-level variables [CITE]. 

For this project, we used this dataset to critically analyze this research team's findings to identify state-level variables associated with rates of hate crimes, and to generate a high performing predictive model for population-adjusted hate incidents in the United States.   


## Methods

The data used for this project included state-level hate crime rates (hate crimes per 100,000 population), as reported by the Southern Poverty Law Center during the first weeks of November, 2016. Collected state-level demographic variables include: 

- Unemployment rate (high vs low) (as of 2016)
- Urbanization (high vs low) (as of 2015)
- Median household income (as of 2016)
- Percent of residents with a high school degree (as of 2009)
- Percent of residents who are non-citizens (as of 2015)
- Income Gini coefficient (a measure of the extent to which the distribution of income among individuals within an economy deviates from a perfectly equal distribution; as of 2015)
- Percent of residents who are non-White (as of 2015)

Using this data, we generated a multivariable linear regression model to assess which of these variables, if any, are associated with population-adjusted hate incidents in the United States. To do so, we first explored the distribution of the outcome (population-adjusted hate incidents per 100,000 population) to determine whether any data transformations would be necessary, and to assess whether any outliers exist within the data. 

## Results

We first generated descriptive statistics for all collected variables. 

```{r, message = FALSE, warning = FALSE}
h_c_df =
  hate_crimes_df %>%
  rename(
    Unemployment = "unemployment",
    Urbanization = "urbanization",
    "Median Household Income" = "median_household_income",
    "% Adults >25yrs With HS Degree" = "perc_pop_hs",
    "% of Population Not U.S. Citizens" = "perc_non_citizen",
    "% of Population Not White" = "perc_non_white",
    "Gini Index" = "gini_index",
    "Hate Crime Rate Per 100k" = "hate_crimes_per_100k_splc"
  ) %>%
  dplyr::select(-state)

my_controls = tableby.control(
               total = T,
               test=F,  
               numeric.stats = c("meansd", "medianq1q3", "range", "Nmiss2"),
               cat.stats = c("countpct", "Nmiss2"),
               stats.labels = list(
               meansd = "Mean (SD)",
               medianq1q3 = "Median (Q1, Q3)",
               range = "Min - Max",
               Nmiss2 = "Missing",
               countpct = "N (%)"))

tab1 = tableby( ~ ., data = h_c_df, control = my_controls)

summary(tab1) %>% 
  knitr::kable()
```

Multivariable linear regression modeling operates under several assumptions, which include residual homoscedasticity (constant variance) and normality. Initial exploration of the distribution of the hate crimes rate data showed a strong departure from standard normal distribution. Thus, we performed a Box Cox test to isolate the 'best' power transformation on the hate crimes rate variable to achieve normal residuals. 

```{r, message = FALSE, warning = FALSE}
mult_fit_1 = lm(hate_crimes_per_100k_splc ~ unemployment + urbanization + median_household_income + perc_pop_hs + perc_non_citizen + gini_index + perc_non_white, data = hate_crimes_df)
summary(mult_fit_1)

boxcox(mult_fit_1)
```

These results suggest that a logarithmic transformation of the hate crimes rate data would most closely approximate normal distribution. 

## Discussion/Conclusion


## Figures and Tables

```{r}

```


## References